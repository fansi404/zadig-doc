---
title: 产品使用手册
date: 2023-04-13 19:15:44
permalink: /ZadigX dev/install/zadig-manual/
---

## Zadig 是什么？
Zadig 是 KodeRover 公司基于 Kubernetes 自主设计、研发的分布式持续交付 (Continuous Delivery) 产品，具备灵活易用的高并发工作流、面向开发者的云原生环境、高效协同的测试管理、强大免运维的模板库、客观精确的效能洞察、云原生 IDE 插件、发布编排工作流、客户中心等重要特性，为工程师提供统一的协作平面。Zadig 内置了 K8s YAML、Helm Chart、主机等复杂场景最佳实践，适用大规模微服务、高频高质量交付等场景。
相比传统 DevOps，Zadig 云原生 DevOps 价值链平台通过技术升级和平台工程，为企业带来数字化的研发体系、质量体系、价值体系。打造极致、高效、愉悦的开发者工作体验，让工程师成为企业创新的核心引擎。

## 当前问题
1. 多人使用一套自测联调环境，环境经常不够用，研发过程受到影响，效率低。
2. 大量手工测试，测试环境不稳定，自动化测试难以开展，测试工程师价值难以体现。
3. 上线审批流程冗长。
4. 运维工程师手工操作繁重，费时费力易出错。

## 方案介绍
TODO

## 用户核心场景使用
### 管理员(运维)准备
#### 工作流
<table>
	<tr>
		<th colspan="4"><b>面向角色的工作流介绍</b></th>
	</tr>
	<tr>
		<td><b>面向角色</b></td>
		<td><b>功能描述</b></td>
		<td><b>工作流名称样例</b></td>
		<td><b>具体配置</b></td>
	</tr>
	<tr>
		<td rowspan="2">开发工程师</td>
		<td>更新日常开发环境</td>
		<td>project-dev-workflow</td>
		<td>构建、部署、自动化测试</td>
	</tr>
	<tr>
		<td>更新开发环境业务配置</td>
		<td>project-dev-nacos-workflow</td>
		<td>Nacos 变更</td>
	</tr>
    <tr>
		<td rowspan="3">测试工程师</td>
		<td rowspan="2">更新集成测试环境</td>
		<td rowspan="2">project-sit-workflow</td>
		<td>构建、部署、自动化测试（上报 API 扫描结果）</td>
	</tr>
	<tr>
		<td>开启定时任务每日使用 develop 分支更新环境</td>
	</tr>
	<tr>
		<td>更新 sit 环境业务配置</td>
        <td>project-sit-nacos-workflow</td>
		<td>Nacos 变更</td>
	</tr>
    <tr>
		<td rowspan="2">发布工程师</td>
        <td>更新预发环境</td>
		<td>project-uat-workflow</td>
        <td>构建、Nacos 变更、部署 uat（变量变更、模板变更），自动化测试</td>
	</tr>
    <tr>
        <td>更新生产环境</td>
		<td>project-prod-workflow</td>
        <td>审批，Nacos 变更，部署生产环境（变量变更、模板变更）</td>
	</tr>
</table>

![产品使用手册](./_images/zadig_manual_1.png)

#### 环境

<table>
	<tr>
		<th colspan="4"><b>面向角色的环境介绍</b></th>
	</tr>
	<tr>
		<td><b>面向角色</b></td>
		<td><b>环境描述</b></td>
		<td><b>环境名称样例</b></td>
		<td><b>场景介绍</b></td>
	</tr>
	<tr>
		<td rowspan="2">开发工程师</td>
		<td rowspan="2">用于日常开发、联调</td>
		<td rowspan="2">dev</td>
		<td>如果 Java 栈实现灰度能力，可以通过新建环境随时拉起开发自测子环境</td>
	</tr>
    <tr>
		<td>如果采用 Istio + Skywalking 技术栈，通过 Zadig 开启自测模式随时拉起子环境</td>
	</tr>
	<tr>
		<td rowspan="2">测试工程师</td>
		<td>用于测试、集成验证</td>
		<td>sit</td>
		<td>自主升级环境，选择一个或多个 PR/MR 进行功能需求的并行验证</td>
	</tr>
    <tr>
		<td>用于验收测试</td>
		<td>uat</td>
		<td>可以以此环境作为发布生产环境前的用户验收环节</td>
	</tr>
	<tr>
		<td>运维工程师</td>
		<td>用于生产查看</td>
		<td>prod</td>
		<td>生产环境管理，变更过程需经过严格审批</td>
	</tr>
</table>

![产品使用手册](./_images/zadig_manual_2.png)

### 开发工程师

#### 更新服务镜像
1. 本地编写代码推送到远端分支。
2. Webhook 自动触发工作流执行，执行过程包括： dev 环境构建 + 部署 + smoke test + IM 通知。
![产品使用手册](./_images/zadig_manual_3.png)
![产品使用手册](./_images/zadig_manual_4.png)

#### 更新服务业务配置
> 日常更新 dev/qa 环境 Nacos 配置

执行服务业务配置工作流。
![产品使用手册](./_images/zadig_manual_5.png)

#### 更新数据
> 日常更新 dev/sit 环境数据

执行数据变更工作流。

![产品使用手册](./_images/zadig_manual_6.png)

#### 日常调试
1. 进入对应测试环境。
2. 查看服务状态。

![产品使用手册](./_images/zadig_manual_7.png)

3. 查看服务实时日志。

![产品使用手册](./_images/zadig_manual_8.png)
![产品使用手册](./_images/zadig_manual_9.png)

4. 进入容器调试。

![产品使用手册](./_images/zadig_manual_10.png)
![产品使用手册](./_images/zadig_manual_11.png)

5. 临时替换镜像。

![产品使用手册](./_images/zadig_manual_12.png)

6. 调整副本数量/重启实例。

![产品使用手册](./_images/zadig_manual_13.png)

### 测试工程师
#### 管理测试脚本
挂接到研发测试工作流中。

![产品使用手册](./_images/zadig_manual_14.png)

![产品使用手册](./_images/zadig_manual_15.png)

#### 测试验证
执行 sit 工作流更新环境。

![产品使用手册](./_images/zadig_manual_16.png)

### 发布工程师
#### 更新预发环境
执行 uat 工作流更新预发环境做预发验证，包含构建 -> Nacos 变更 -> 部署 -> 测试。

![产品使用手册](./_images/zadig_manual_17.png)

#### 更新生产环境
执行 prod 工作流更新生产环境，包含审批 ->  Nacos 变更 -> 部署。

![产品使用手册](./_images/zadig_manual_18.png)

#### 线上数据库变更
执行 prod 数据库变更工作流。

![产品使用手册](./_images/zadig_manual_19.png)


### 项目/企业管理人员
企业项目整体运行状况。

![产品使用手册](./_images/zadig_manual_20.png)

分析项目各个环境的变化过程及效能短板。

![产品使用手册](./_images/zadig_manual_21.png)

## 更多产品特性

### 面向开发者的云原生环境
一键拉起环境、一键复制环境、多环境/环境配置管理、服务编排/跨项目共享服务、开发者共享环境 - 自测子环境。

![产品使用手册](./_images/zadig_manual_22.png)

### 灵活易用的高并发工作流
自动生成面向开发、测试、运维角色的工作流；多个微服务并行构建、部署、测试，代码验证效率 UP；自定义工作流，灵活编排、自主开发和对接企业内部流程和系统。

![产品使用手册](./_images/zadig_manual_23.png)

### 高效协同的测试管理
自动生成面向开发、测试、运维角色的工作流；多个微服务并行构建、部署、测试，代码验证效率 UP；自定义工作流，灵活编排、自主开发和对接企业内部流程和系统。

![产品使用手册](./_images/zadig_manual_24.png)

### 强大免运维的模版库
一套YAML/Chart 模板管理数百微服务；每个技术栈抽象一套构建模板；运维统一规范管理，开发自主使用；跨多项目复用模板。

![产品使用手册](./_images/zadig_manual_25.png)

### 云原生 IDE 插件 (VSCode)
在 VScode IDE 中使用 Zadig 核心能力；无需打包镜像，即可一键热部署到自测环境；与 Zadig 基准环境交互，完成自测、联调验证。
![产品使用手册](./_images/zadig_manual_26.png)
